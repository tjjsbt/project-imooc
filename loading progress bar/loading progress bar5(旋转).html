<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>加载进度条5</title>
	<style type="text/css">
		.loading{
			width: 100%;
			height: 100%;
			position: fixed;
			top: 0;
			left: 0;
			z-index: 100;
			background-color: #fff;
		}
		.loading .pic{
			width: 100px;
			height: 100px;			
			position: absolute;
			top: 0;
			bottom: 0;
			left: 0;
			right: 0;
			margin: auto;			
			font-size: 30px;
			text-align: center;
			line-height: 100px;
		}
		
		.loading .pic span{
			display: block;
			width: 80px;
			height: 80px;
			position: absolute;
			top: 10px;
			left: 10px;
			/*background-color: #ccc;*/
			border-radius: 50%;
			box-shadow: 0 3px 0 #666;
			animation: rotate 2s linear infinite;
			-webkit-animation: rotate 2s linear infinite;
		}			
		
		@keyframes rotate{
			from{ transform: rotate(0deg); }
			to{ transform: rotate(360deg); }
		}

		@-webkit-keyframes rotate{
			from{ transform: rotate(0deg); }
			to{ transform: rotate(360deg); }
		}
		
	</style>
	<script src="https://cdn.bootcss.com/jquery/3.2.0/jquery.min.js"></script>
	<script type="text/javascript">
		
		$(function(){
			/*//思路
			var img = Image();
			
			img.onload=function(){

			}
			//如果有缓存onload不会执行所以src赋值要放在下面
			img.src="3123123.jpg";*/

			var img = $("img");
			var count = 0;

			img.each(function(i){
				
				var oImg = new Image();

				oImg.onload = function(){
					//有时gif格式图像会多次请求onload事件,所以初始化一下。
					oImg.onload = null;

					count++;

					$(".loading b").html(parseInt(count/$("img").length*100)+"%")	
					
					if (count==img.length) {						
						$(".loading").fadeOut();
					}
				}

				oImg.src = img[i].src;
			});
		})

	</script>
</head>
<body>
	<div class="loading">
		<div class="pic">
			<span></span>
			<b>0%</b>
		</div>
	</div>

	<img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1502762063893&di=f17bc0f4ad2e6ea1167826fc39075cce&imgtype=0&src=http%3A%2F%2Fimg.article.pchome.net%2F00%2F52%2F45%2F50%2Fpic_lib%2Fwm%2F11.jpg" alt="" />

	<img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1502762063893&di=c5dda7e5d4145bbb48ca37c0ce48595e&imgtype=0&src=http%3A%2F%2Fimgstore.cdn.sogou.com%2Fapp%2Fa%2F100540002%2F613885.jpg" alt="">
	<img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1502762063893&di=bf36dfec47266f4d74ea264660ff0a2d&imgtype=0&src=http%3A%2F%2Fwww.sucaitianxia.com%2FPhoto%2Fpic%2F200906%2Ffengus28.jpg" alt="">
	<img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1502762063892&di=def5bcdf06360d390c0003c4b71d8e4e&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201311%2F28%2F102808lhjhh05b5tp8ph61.jpg" alt="">
	<img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1502762063892&di=ce47223f5a53a71b7745ec8417a45944&imgtype=0&src=http%3A%2F%2Fimg.pconline.com.cn%2Fimages%2Fupload%2Fupc%2Ftx%2Fwallpaper%2F1307%2F20%2Fc3%2F23531338_1374288851927.jpg" alt="">
</body>
</html>