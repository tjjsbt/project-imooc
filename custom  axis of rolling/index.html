<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>scroll</title>
    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <script type="text/javascript" src='http://libs.baidu.com/jquery/2.0.0/jquery.min.js'></script>
    <style type="text/css">
    body {
        background: #ccc;
    }

    .scroll-demo {
        width: 540px;
        border: 1px solid #e5e5e5;
        background: #fff;
        margin: 30px auto;
    }
    /*标签切换区*/

    .scroll-tab {
        height: 32px;
        border-bottom: 1px solid #e5e5e5;
        color: #666;
        background: #f8f8f8;
    }

    .scroll-tab .tab-item {
        float: left;
        font: 14px/34px 'Microsoft Yahei';
        height: 34px;
        text-align: center;
        border-right: 1px solid #e5e5e5;
        padding: 0 20px;
    }

    .scroll-tab .tab-active {
        color: #00be3c;
        background: #fff;
        border-top: 2px solid #00be3c;
        margin: -1px 0;
    }
    /*滚动内容区*/

    .scroll-wrap {
        padding-top: 5px;
        position: relative;
        width: 100%;
        height: 300px;
    }
    /*滚动内容*/

    .scroll-wrap .scroll-cont {
        height: 100%;
        padding: 0 15px;
        overflow: hidden;
    }

    .scroll-wrap .scroll-cont h3 {
        font: 16px/3 "Microsoft Yahei";
        text-align: center;
    }

    .scroll-wrap .scroll-cont p {
        font-size: 14px;
        line-height: 20px;
        text-indent: 2em;
        margin-bottom: 10px;
    }
    /*自定义滚动条*/

    .scroll-wrap .scroll-bar {
        position: absolute;
        top: 0;
        right: 0;
        width: 10px;
        height: 100%;
        background-color: #eaeaea;
    }
    /*滑块*/

    .scroll-wrap .scroll-slider {
        position: absolute;
        top: 0;
        left: 1px;
        width: 8px;
        height: 30px;
        background-color: #fff;
    }
    </style>
</head>

<body>
    <!-- 示例容器 -->
    <div class="scroll-demo">
        <!-- 标签切换区 -->
        <ul class="scroll-tab clearfix">
            <li class="tab-item tab-active">第一篇</li>
            <li class="tab-item">第二篇</li>
            <li class="tab-item">第三篇</li>
            <li class="tab-item">第四篇</li>
        </ul>
        <!-- 滚动区内容 -->
        <div class="scroll-wrap">
            <!-- 滚动内容 -->
            <div class="scroll-cont">
                <h3 class="anchor">人生大起大落</h3>
                <div class="scroll-ol">
                    <p>
                        失去曾引以为傲的所有，失去曾以为抓住的救命稻草，辜负许多人对自己的信任，从万丈光芒的地方跌到无底深渊，一切都变得黯然失色。</p>
                    <p>其实，能承受多大的痛苦，才配得上拥有多大的未来。</p>
                    <p>这世上不乏一帆风顺而事业有成之人，可如果没经历过那一夜白发般的苦愁，怎能体会到春风满面的舒畅，又怎能形成那顽强拼搏的气魄?</p>
                    <p>大起大落，大喜大悲，非自然之道。可不经历那几乎要压断脊梁的压力，又怎能成就不卑不亢、不骄不躁的稳重与成熟?又怎能看透这百态的人生与无常的世事?</p>
                    <p>让一切发生，并相信它是最好的安排。</p>
                    <p>人需要历练，而痛苦，便是最好的历练。因为痛苦能使内心变得更加强大，而只有拥有强大的内心，才能闯出并支撑起一片广阔的未来。
                    </p>
                    <p>
                        失去曾引以为傲的所有，失去曾以为抓住的救命稻草，辜负许多人对自己的信任，从万丈光芒的地方跌到无底深渊，一切都变得黯然失色。</p>
                    <p>其实，能承受多大的痛苦，才配得上拥有多大的未来。</p>
                    <p>这世上不乏一帆风顺而事业有成之人，可如果没经历过那一夜白发般的苦愁，怎能体会到春风满面的舒畅，又怎能形成那顽强拼搏的气魄?</p>
                    <p>大起大落，大喜大悲，非自然之道。可不经历那几乎要压断脊梁的压力，又怎能成就不卑不亢、不骄不躁的稳重与成熟?又怎能看透这百态的人生与无常的世事?</p>
                    <p>让一切发生，并相信它是最好的安排。</p>
                    <p>人需要历练，而痛苦，便是最好的历练。因为痛苦能使内心变得更加强大，而只有拥有强大的内心，才能闯出并支撑起一片广阔的未来。
                    </p>
                </div>
            </div>
            <div class="scroll-cont">
                <h3 class="anchor">清晨叫醒自己</h3>
                <div class="scroll-ol">
                    <div class="article-content">
                        <p>清晨，当闹钟又聒噪地嗒嗒作响，强行截断我刚刚渐入佳境的美梦，我睁开睡眼惺忪的眼眸。当微弱的晨光照亮黑暗，新的一天正缓缓地向我走来。</p>
                        <p>肚子空空如也，嘴巴干渴难耐，找了一瓶清亮的水，咕嘟咕嘟地喝上一口，顿时清醒许多，水滋润了我缺水的嘴唇，润湿了我缺水的灵魂。</p>
                        <p>洗漱完毕，早餐已经做好，一枚枚透明的水晶饺子，浮在热气腾腾的高汤中，我用勺子舀起一碗，用嘴吹凉，就一口吃了一个，味道鲜美，好吃极了。窗外是一片温柔的碧绿，没有烈日的照耀，显得那般轻柔，淡淡的绿，清新的绿。我端着饺子，走进这一片醉人的绿色中，绿色撩人，撩拨着我的心弦，仿佛心中奏响了一首欢快的民谣，沉睡的细胞跟着节奏一粒粒都舒展开腰肢，清清爽爽地跳舞，顿时觉得整个人都活了过来。</p>
                        <p>肚子里微热的饺子，配上眼睛里饱满的绿色，以及吸入胃里清新的空气，让我整个人都活了过来，享受着崭新的一天，这是值得好好呵护与热爱的一天。</p>
                        <p>一天之计在于晨，这句话一点都不假，但很少有人能在清晨唤醒自己，让每一天都元气满满，扑向自己向往的远方。有时我也会陷入颓废，早晨起来，而不是第一时间去洗漱和吃早餐，而是赖在床上，玩手机</a>，手机是一个能吞噬时间的利器，不一会就能过去一两个小时，等到洗漱完毕，几乎一整个早晨就匆匆而逝，早晨安排的计划，也一一搁浅。那些遥远的梦，还未开始踏出第一步，就草草停滞，如此浑浑噩噩地混日子，日子也开始混你，久而久之，时间流去很多，自己却毫无建树，所以我认为，应该早些改掉赖床的坏毛病，一睁开眼睛，第一时间不是玩手机，而是翻身下床，去洗漱吃早餐，让美食和新鲜空气把自己全身的机能激活，再全身心地投入到自己最擅长的事业中，这样长久下去，才能取得应有的好成绩。</p>
                        <p>人总有惰性，人总喜欢待在安全舒适区，人总不喜欢改变，但一成不变总让我们在原地踏步，让我们停滞不前。如果不想后半生的，都是重复、重复、再重复，就得从现在开始，从不赖床开始，有时简单的改变，也能取得巨大的效果。</p>
                    </div>
                </div>
            </div>
            <div class="scroll-cont">
                <h3 class="anchor">克服自己</h3>
                <div class="scroll-ol">
                    <div class="article-content">
                        <p>常常听说“性格决定命运”，脑袋里却没有“心态决定未来”的概念，公司组织的培训让我心向往之，希望能有所收获。一天的时间不算太长，主讲唐玮老师语言流畅、旁征博引、声情并茂，使我的内心也有了感触。</p>
                        <p>我的心态不算太好，但却时时提醒自己、调整自己，我深知心态的重要。工作、如果没有激情，人就失去了朝气;内心若满是恐惧，前路就不会作出正确的选择;而且好的心态也是健康的保证。身在职场十几年，我还保持着自己的性子，没有做到外圆内方，虽然对自己依然有所要求，积极向上的工作、学习，但是现实的残酷却一次又一次的打击着我，摧毁我的意志，磨灭我的梦想，常常没有了激情，我试图找回曾经的自己，却发现没有了力量。唐玮老师的讲解让我知道，现在状态是因为我没有了梦想，只是为了责任去做。梦想，永远是指引我们的方向。</p>
                        <p>有了梦想我可以不在意别人的眼光，大胆的去尝试;有了梦想，我可以忘记现实的痛苦，努力的去争取;有了梦想，激情与会永远与我相随;有了梦想，我能与更多有梦想的人结伴同行，去追求成功的乐趣。年龄越大，梦想越小，现实却不能让我如此，想想今后的退休年限，我们也不能丝毫懈怠。从今天起，我是恢复梦想的人。</p>
                        <p>梦想如何能照进现实呢，唐玮老师给我们讲述了他的同事、亲戚的：一个高才生在平庸的工作中消磨了意志，十几年后，他从一个高高在上站在技术尖端的人伦为成落后的知识份子，只能为了工作而工作;而那个有梦想的小学毕业生，却拥有了成功人士所梦想拥有的一切。不落后于人，就不能原地不前，知识的更新，能力的进步，始终是前行的动力，动力的源泉就是学习!我一直坚持学习，却往往书到用时方恨少。唐玮老师又一次告诉我学习的方法，抓住一切可利用的资源，利于书本、视频、音频随时随地的学习。学习时要重复，并一定记得开始行动。</p>
                        <p>在追求梦想的旅途中，谁都会有失落与彷徨，如何摆脱悲伤、低迷的情绪，通过老师的讲解，我悟到了，要活在当下。未来就是当下，心态就是对话。当工作遇到困难时，我要鼓励自己：当你觉得舒服的时候任何事情都不会改变。眼下的难题，只要把他解开，就一定有所突破，顺势而为，否极泰来。孟子说，天将降大任于斯人也，必先苦其心志，劳其筋骨，饿其体肤，空乏其身，行拂乱其所为。活在当下，想做就做，那一刻就只做一件事情，专注于他，不要在意如影相随的烦扰，一切困苦在于成就成功的你。</p>
                        <p>现在的我非常的幸运，在****这个大家庭找到志同道合的一群人，有带领我共同进步的上级，更有朝气蓬勃的同事们，我们一起成长，一起进步，一起克服困难，一起走向成功!</p>
                    </div>
                </div>
                <div class="scroll-cont">
                    <h3 class="anchor">为了自己</h3>
                    <div class="scroll-ol">
                        <p>先让我们每个人给自己三组五次有节奏的掌声，因为我们能在生活</a>日益激烈的社会坚强的活下去，就值得给自己竖一个大拇指，甚至是两个都不为过，每个人都有失败的过去，每个人甚至都不愿回头惨目忍睹的不堪往事，那么，就让我们守护正能量吧，从我做起，从身边小事做起。就拿我本人来说，仅仅20出头，就经历了比同龄人更多的人情冷暖，我学会了感谢自己，同时也感谢老天爷，给了我适合自己的又是自己想要的一切。小学时被乡里的野孩子玩弄与金钱，是不是就意味着我不可以与以下几种的人往来呢?</p>
                        <p>比自己经济条件差。我是一个极度缺爱的女孩，一点对方对我好一点点，我就回加倍地汇报，但时代不一样了，而且从古至今，都有一个恶性循环，那就是给人一碗米，会得到感激，给人十袋粮食，会造成对方贪得无厌的心理，从《甄传》中安陵容对甄恩将仇报就可以看出。</p>
                        <p>长相丑陋的又嫉妒的人。相由心生，说的一点都不错，而我恰恰是不会看脸的人，更容易对长相丑陋的人起巨大的同情心，不知被打了多少次这种想法的脸，就是不知悔改，我真是活该，连识人都不会，还怎么在社会上生存?被一个长得不能再丑的女孩多次践踏友情，居然还求着不要被遗弃，真是没有自尊心了。我不会再对长相丑陋的人起巨大的同情心了，相由心生，不是没有道理。</p>
                        <p>学历不如自己的人。也许很迂腐，但我的身边确实铁铮铮的事实“寒门再难出贵子”，再不通过大锅饭式的教育拼搏，那就完蛋了。现代化好多寒门家子，他们沿袭了父辈的那一代出去打拼和人家争饭碗，遇到挫折就是怨天尤人，说到底还是格局小，从《欢乐颂》中的樊胜美一家人的状况，就可以得知阶级不同造成思想不同。</p>
                        <p>努力去寻找自己想要的一切，注定与颜值高的人组朋友，自己也会越来越漂亮，注定与家庭富裕的热诺朋友，自己的眼界会开阔，注定与学识渊博的人做朋友，自己的精神不空虚</p>
                        <p>“感恩的心，感谢命运，花开花落我一样会珍惜”!</p>
                    </div>
                </div>
            </div>
            <!-- 滚动条 -->
            <div class="scroll-bar">
                <!-- 滚动滑块 -->
                <div class="scroll-slider"></div>
            </div>
        </div>
        <script type="text/javascript">
        (function(win, doc, $) {
            function CusScrollBar(options) {
                this._init(options);
            }
            $.extend(CusScrollBar.prototype, {
                _init: function(options) {
                    var self = this;
                    self.options = {
                        scrollDir: 'y', //滚动的方向
                        contSelector: '', //滚动内容区选择器
                        barSelector: '', //滚动条选择器
                        sliderSelector: '' //滚动滑块选择器
                    };
                    $.extend(true, self.options, options || {});

                    self._initDomEvent();

                    return self;
                },
                /*初始化DOM引用
                @method _initDomEvent
                @return {CusScrollBar}*/
                _initDomEvent: function() {
                    var opts = this.options;
                    //滚动内容区对象，必填项
                    this.$cont = $(opts.contSelector);
                    //滚动条滑块儿对象，必填项
                    this.$slider = $(opts.sliderSelector);
                    //滚动条对象
                    this.$bar = opts.barSelector ? $(opts.barSelector) : self.$slider.parent();
                    //获取文档对象
                    this.$doc = $(doc);

                    this._initSliderDragEvent()
                    	._bindContScroll();
                },

                /*初始化滑块拖动功能
                @return {[Object]} [this]*/
                _initSliderDragEvent: function() {
                    var slider = this.$slider,
                        self = this,
                        sliderEl = slider[0];
                    if (sliderEl) {
                        var doc = self.$doc,
                            dragStartPagePosition,
                            dragStartScrollPosition,
                            dragContBarRate;

                        function mousemoveHandler(e) {
                            e.preventDefault();
                            console.log('mousemove');
                            //值等于null则鼠标没有按下，返回跳出
                            if (dragStartPagePosition == null) {
                                return;
                            }
                            self.scrollTo(dragStartScrollPosition + (e.pageY - dragStartPagePosition) * dragContBarRate);
                        }

                        slider.on('mousedown', function(e) {
                            e.preventDefault();
                            console.log('mousedown');
                            dragStartPagePosition = e.pageY;
                            dragStartScrollPosition = self.$cont[0].scrollTop;
                            console.log(self.$cont);
                            dragContBarRate = self.getMaxScrollPosition() / self.getMaxSliderPosition();
                            //事件绑定到doc上为了使鼠标按住时移除拖动条也可以继续滑动移动条
                            //给事件添加命名空间，防止解绑定事件识货影响到别的同类型事件
                            doc.on('mousemove.scroll', mousemoveHandler).on('mouseup.scroll', function(e) {
                                console.log('mouseup');
                                doc.off('.scroll');
                            });
                        });
                    }
                    return self;
                },
                //监听内容的滚动， 同步滑块的位置
                _bindContScroll : function(){
                	var self = this;
                	self.$cont.on('scroll', function(){
                		var sliderEl = self.$slider && self.$slider[0];
                		if (sliderEl) {
                			sliderEl.style.top = self.getSliderPosition() + 'px';
                		}
                	});
                	return self;
                },
                //计算滑块儿的当前的位置
                getSliderPosition : function(){
                	var self = this,
                		maxSliderPosition = self.getMaxSliderPosition();
                	// 滑块移动距离/ 滑块可移动距离 = 内容滚动高度 / 内容可滚动高度
                	return Math.min(maxSliderPosition, maxSliderPosition * self.$cont[0].scrollTop / self.getMaxScrollPosition());
                },

                //内容可滚动的高度
                getMaxScrollPosition: function() {
                    var self = this;
                    return Math.max(self.$cont.height(), self.$cont[0].scrollHeight) - self.$cont.height();
                },
                //滑块可移动的距离
                getMaxSliderPosition: function() {
                    var self = this;
                    return self.$bar.height() - self.$slider.height();
                },
                scrollTo: function(positionVal) {
                    var self = this;
                    self.$cont.scrollTop(positionVal);
                }

            });

            win.CusScrollBar = CusScrollBar;
        })(window, document, jQuery);
        new CusScrollBar({
            contSelector: '.scroll-wrap', //滚动内容区选择器
            barSelector: '.scroll-bar', //滚动条选择器
            sliderSelector: '.scroll-slider' //滚动滑块选择器
        });
        </script>
</body>

</html>